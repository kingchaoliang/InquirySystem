# AI询盘管理CRM系统 - 讨论清单

## 项目概述
构建一个基于Ant Design Pro UI库的AI驱动询盘管理CRM系统，支持Docker部署，集成ChatGPT/deepseek/gemini AI分析功能，具备多角色权限管理和全面的询盘跟踪能力。

## 系统模块需求

### 1. 用户认证与权限管理模块
- **用户登录/注册**
  - 支持邮箱/用户名登录
  - 密码加密存储
  - 登录状态管理
- **多角色权限系统**
  - 管理员角色：全系统权限
  - 销售经理：部门数据权限
  - 销售人员：个人数据权限
  - 客服人员：查看和跟进权限
- **权限控制**
  - 页面级权限控制
  - 功能级权限控制
  - 数据级权限控制

### 2. 询盘管理核心模块
- **询盘录入**
  - 基础信息：日期、业务员、渠道、部门
  - 询盘内容：产品需求、详细描述
  - 联系信息：客户姓名、电话、邮箱、地址
  - 分类信息：地区、客户类型
- **询盘列表展示**
  - 标准字段显示
  - **可自定义表头功能**（重点需求）
    - 用户可添加自定义字段
    - 支持字段：跟进推广员、跟进状态等
    - 字段显示/隐藏控制
    - 字段排序功能
- **询盘详情管理**
  - 详细信息查看
  - 编辑修改功能
  - 状态更新

### 3. AI分析集成模块
- **多AI平台支持**
  - ChatGPT集成
  - DeepSeek集成
  - Gemini集成
- **AI分析功能**
  - 询盘内容智能分析
  - 客户意向评估
  - 产品匹配推荐
  - 跟进建议生成
- **AI配置管理**
  - API密钥管理
  - 模型选择配置
  - 分析参数设置

### 4. 跟进管理模块
- **跟进记录**
  - 跟进时间记录
  - 跟进方式（电话、邮件、微信等）
  - 跟进内容详情
  - 跟进结果状态
- **跟进提醒**
  - 自动提醒设置
  - 跟进计划管理
  - 逾期提醒功能
- **进度跟踪**
  - 询盘状态流转
  - 进度可视化展示
  - 转化率统计

### 5. 数据统计与报表模块
- **询盘统计**
  - 按时间维度统计
  - 按渠道维度统计
  - 按业务员维度统计
  - 按地区维度统计
- **转化分析**
  - 询盘转化率
  - 各阶段转化情况
  - AI分析效果评估
- **报表导出**
  - Excel导出功能
  - PDF报表生成
  - 自定义报表模板

### 6. 系统配置模块
- **基础数据管理**
  - 渠道管理
  - 部门管理
  - 地区管理
  - 客户类型管理
- **自定义字段配置**
  - 字段类型定义
  - 字段验证规则
  - 字段显示配置
- **系统参数设置**
  - 系统基础配置
  - 邮件服务配置
  - 文件上传配置

## 技术架构需求

### 前端技术栈
- React + TypeScript
- Ant Design Pro
- Umi框架
- ProComponents组件库

### 后端技术栈
- Node.js + Express 或 Java Spring Boot
- 数据库：MySQL/PostgreSQL
- Redis缓存
- JWT认证

### 部署要求
- Docker容器化部署
- Docker Compose编排
- 支持环境变量配置
- 支持数据持久化

### AI集成要求
- 支持多AI平台API调用
- 异步处理机制
- 错误处理和重试机制
- 成本控制和使用量监控

## 关键特性需求

### 1. 可自定义表头功能（核心需求）
- 用户可以在询盘列表中添加自定义字段
- 支持的自定义字段类型：
  - 文本字段
  - 选择字段
  - 日期字段
  - 数值字段
- 字段管理功能：
  - 添加/删除自定义字段
  - 字段重命名
  - 字段排序
  - 字段显示/隐藏控制

### 2. 多角色权限控制
- 基于角色的访问控制(RBAC)
- 数据级权限隔离
- 功能级权限控制

### 3. AI智能分析
- 实时AI分析
- 多模型对比
- 分析结果存储和历史查看

### 4. 响应式设计
- 支持PC端和移动端
- 自适应布局
- 触摸友好的交互设计

## 性能要求
- 页面加载时间 < 3秒
- 支持1000+并发用户
- 数据查询响应时间 < 1秒
- 99.9%系统可用性

## 安全要求
- 数据传输加密(HTTPS)
- 敏感数据加密存储
- SQL注入防护
- XSS攻击防护
- CSRF攻击防护
- API访问频率限制
